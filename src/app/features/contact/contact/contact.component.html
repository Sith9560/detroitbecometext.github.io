<main class="container" fxLayout="column" fxLayoutAlign="start center">
    <mat-card>
        <mat-card-title>
            <h1>Contact</h1>
        </mat-card-title>
        <mat-card-content>
            <form [formGroup]="contactForm" (ngSubmit)="sendMessage()">
                <div fxLayout="column" fxLayoutGap="1em">
                    <div fxLayout="row" fxLayoutGap="40px">
                        <mat-form-field appearance="standard" fxFlex="1 1 0">
                            <mat-label>Name</mat-label>
                            <input
                                matInput
                                placeholder="Your name"
                                formControlName="name"
                            />
                            <mat-hint
                                >(not required, but necessary if you want me to
                                credit you for your submission)</mat-hint
                            >
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="1 1 0">
                            <mat-label>Email</mat-label>
                            <input
                                matInput
                                placeholder="Your email"
                                formControlName="_replyto"
                            />
                            <mat-hint
                                >(not required, but necessary if you need me to
                                contact you back)</mat-hint
                            >
                            <mat-error
                                *ngIf="contactForm.get('_replyto').invalid"
                                >This is not a valid e-mail address</mat-error
                            >
                        </mat-form-field>
                    </div>

                    <mat-form-field appearance="standard">
                        <mat-label>Your message</mat-label>
                        <textarea
                            matInput
                            formControlName="message"
                            placeholder="Type your message here!"
                        ></textarea>
                    </mat-form-field>
                    <button
                        mat-raised-button
                        color="primary"
                        type="submit"
                        [disabled]="!contactForm.valid || (sending$ | async)"
                        fxFlexAlign="center"
                    >
                        {{ (sending$ | async) ? 'Sending...' : 'Submit' }}
                        <fa-icon icon="paper-plane"></fa-icon>
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</main>
